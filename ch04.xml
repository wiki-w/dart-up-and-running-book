<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<chapter id="ch04">
  <title>工具</title>

  <para>Dart 提供了一些工具来帮助你编写和部署 web 应用和命令行
  应用：</para>

  <variablelist>
    <varlistentry>
      <term><link linkend="ch04-tools-pub">pub: Dart 包
      管理器</link></term>

      <listitem>
        <para>下载和安装包中的库。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-editor">Dart 编辑器</link></term>

      <listitem>
        <para>编辑、运行、调试 web 和 命令行 应用。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-dartium">Dartium: 带有 Dart
      VM 的 Chromium 浏览器</link></term>

      <listitem>
        <para>运行 Dart web 应用。用带有 Dart VM 的 Chromium 
        运行 web 应用。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-dart2js">dart2js: Dart-to-JavaScript
      compiler</link></term>

      <listitem>
        <para>把你的 web 应用编译为 JavaScript 就可以在不包含 Dart VM
        的浏览器中运行了。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-dart-vm">dart:独立的 Dart
      VM</link></term>

      <listitem>
        <para>运行命令行应用、服务器端脚本或者其他不能在
        浏览器中运行的 Dart 应用。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-dart_analyzer">dartanalyzer: 静态
      分析器</link></term>

      <listitem>
        <para>用命令行来分析 Dart 代码。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><link linkend="ch04-tools-dartdoc">dartdoc: API 文档
      生成器</link></term>

      <listitem>
        <para>从 Dart 代码中生成文档。</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>以上工具都包含在下载的 Dart 编辑器包中。你也可以单独
      下载 Dartium，也可以单独
      下载包含 pub、 dart2js、 dart、 dartanalyzer、
  和 dartdoc 的 SDK。参考 <ulink
  url="http://www.dartlang.cc/tools/">下载界面</ulink>
  。</para>

  <para>这些工具位于下载的 Dart 安装目录中的 <literal>dart-sdk/bin</literal> 
目录中。
如果你想使用这些命令行工具，建议把
 <literal>bin</literal> 目录添加到环境变量中去。
  </para>

  <sect1 id="ch04-tools-pub">
    <title>pub: Dart 包管理器</title>

    <para>你可以用 <emphasis>pub</emphasis> 来
        管理 Dart 包。一个 Dart 包只是一个包含多个 Dart 库和其他资源的目录。
        包还可以包含文档、测试、图片等资源。
        应用使用其他包的前提条件是该应用
        需要为一个包。
    </para>

    <note>
      <para>Dart 编辑器支持 pub 的功能，包含 创建、安装
          、更新、以及发布包等。
      </para>
    </note>

    <para>包可以位于任何地方。例如，一些包可能在 GitHub 上。
    Dart 团队在 <phrase
    role="keep-together"><ulink
    url="http://pub.dartlang.org">pub.dartlang.org</ulink></phrase> 发布
    包，我们也希望你在这里发布你的包。</para>

    <para>
        要使用 Dart 包中的库，你需要安装如下
        步骤操作：</para>

    <orderedlist continuation="restarts" inheritnum="ignore">
      <listitem>
        <para>创建一个 pubspec (该文件列出了
            库的依赖关系和其他元数据，例如 你的包
            的名字 等)。</para>
      </listitem>

      <listitem>
        <para>用 pub 获取你的应用所依赖的包。</para>
      </listitem>

      <listitem>
        <para>导入要使用的库。</para>
      </listitem>
    </orderedlist>

    <sect2 id="ch04-tools-pub-pubspec">
      <title>创建 Pubspec</title>

      <para>要使用其他包，你的应用必需创建一个 pubspec 文件并列出
          所依赖的包和包的下载地址。 pubspec 文件的名字为
        <literal moreinfo="none">pubspec.yaml</literal>，该文件必需
        位于你项目的根目录中。
</para>

      <para>下面是一个示例 pubspec 文件，指定了两个包。
          第一个使用了位于 pub.dartlang.org 的 js 包；
          第二个使用了位于 Dart SDK 的 intl 包：
 </para>

      <programlisting format="linespecific"><remark>lang-js
</remark>name: my_app
dependencies:
  js: any
  intl: any
    </programlisting>

      <para>详情请参考：<ulink
      url="http://pub.dartlang.org/doc/pubspec.html">pubspec
      文档</ulink> ，这里还包含了你可以使用的第三方包的介绍。</para>
    </sect2>

    <sect2 id="ch04-tools-pub-install">
      <title>安装包</title>

      <para>定义好 pubspec 文件后，就可以在项目根目录中运行 <literal moreinfo="none">pub
      get</literal> 来下载这些包：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>cd <replaceable>my/app</replaceable>
pub get</screen>

      <para>该命令检测你的应用所依赖的包，并把这些包下载到一个中央缓存目录。
          对于 git 包，pub 则会 clone 该库的 git 库。而对于托管到文件服务器的库，
          pub 从 pub.dartlang.org 下载。 
          同时还下载了应用使用的包所依赖的包。
          例如，js 包依赖 unittest 包， 则 pub 会同时下载
          js 和 unittest 包。
      </para>

      <para>最后，pub 在你的应用根目录下创建一个 <literal moreinfo="none">packages</literal>
      目录，该目录连接了你应用中需要使用的包。
      </para>
    </sect2>

    <sect2 id="ch04-tools-pub-import">
      <title>从包中导入库</title>

      <para>要使用包中的库，使用 <literal
      moreinfo="none">package:</literal> 前缀导入库：</para>

      <programlisting format="linespecific"><remark>lang-dart
</remark>import 'package:js/js.dart' as js;
import 'package:intl/intl.dart';</programlisting>

      <para>Dart 运行环境将负责解析<literal
      moreinfo="none">package:</literal> 并从 <literal
      moreinfo="none">packages</literal> 目录中加载需要的库。</para>
    </sect2>

    <sect2 id="ch04-tools-pub-more-options">
      <title>其他信息</title>

      <para>运行 <literal
      moreinfo="none">pub
      --help</literal> 来查询其他命令。关于 pub 的其他信息以及
      如何发布你的包，请参考
       <ulink
      url="http://pub.dartlang.org/doc">pub 文档。</ulink></para>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-editor">
    <title>Dart 编辑器</title>

    <para>在 <xref linkend="ch01-editor" /> 我们已经介绍了 Dart 编辑器了。
        下面是使用 Dart 编辑器的一些有用的提示，例如
    <link linkend="ch04-editor-run-non-dartium">如何指定浏览器</link>
    和 <link linkend="ch04-editor-dart2js">编译为  JavaScript</link>。
    如果你遇到了问题，请参考 <ulink
    url="http://www.dartlang.cc/tools/editor/troubleshoot.html">
    Dart 编辑器问题指南。</ulink> Dart 编辑器更新比较快，
    所以这里的截图可能看起来不太一样。
    最新的信息 ，请参考 <ulink url="http://www.dartlang.cc/editor">Dart 编辑器文档。</ulink></para>

    <sect2 id="ch04-editor-view-samples">
      <title>查看示例项目</title>

      <para>Dart 编辑器的欢迎界面 (<xref
      linkend="DartEditor-initial" />) 显示了一些示例项目。
      只需要点击示例项目图片就可以打开该项目并查看其
      代码了。</para>

      <para>如果你没有看到欢迎界面，很有可能是之前你关闭该页面了。
      通过菜单 <emphasis role="bold">Tools &gt; Welcome
      Page</emphasis> 可以打开该页面。</para>
    </sect2>

    <sect2 id="ch04-editor-apps">
      <title>管理文件视图</title>

      <para>文件视图显示了 库的文件、安装的包的文件、和你的应用
          创建的文件。
      </para>

      <sect3 id="ch04-editor-apps-open">
        <title>添加应用</title>

        <para>下面是如何打开应用并在文件
            视图中显示的步骤：
	</para>

        <orderedlist continuation="restarts" inheritnum="ignore">
          <listitem>
            <para>打开 <emphasis role="bold">File</emphasis> 菜单，然后选择
              <emphasis role="bold">Open Existing Folder...</emphasis> ，
              或者用快捷键
             (<phrase
            role="keep-together"><emphasis
            role="bold">Ctrl+O</emphasis></phrase> 、在 Mac 系统用 <emphasis
            role="bold">Cmd+O</emphasis>)。</para>
          </listitem>

          <listitem>
            <para>找到
                包含应用的目录。
</para>
          </listitem>

          <listitem>
            <para>点击 <emphasis role="bold">Open</emphasis>。</para>
          </listitem>
        </orderedlist>

        <para>在文件视图中就可以看到该目录和其中的文件了。</para>
      </sect3>

      <sect3 id="ch04-editor-apps-remove">
        <title>删除应用</title>

        <para>你可以从文件视图中删除应用，可以同时删除磁盘上的文件也可以保留
            文件。</para>

        <para>右键 (或者 Ctrl+点击) 项目目录并选择 <emphasis
        role="bold">Delete</emphasis>。
        如果你想同时删除该项目在磁盘上的文件，则在删除对话框中选中
<emphasis
        role="bold">Delete project contents on disk</emphasis>。</para>
      </sect3>
    </sect2>

    <sect2 id="ch04-editor-create-app">
      <title>创建应用</title>

      <para>从头创建一个命令行应用或者 web 应用也是很简单的：</para>

      <orderedlist continuation="restarts" inheritnum="ignore">
        <listitem>
          <para>点击 New Application 按钮 <inlinemediaobject>
              <imageobject>
                <imagedata fileref="figs/web/newapp.png" width="0.12in" />
              </imageobject>
            </inlinemediaobject> (在 Dart 编辑器的左上角)。
            或者选择菜单
          <emphasis role="bold">File &gt; New
          Application</emphasis> 。然后出现一个对话框。
          </para>
        </listitem>

        <listitem>
          <para>输入应用的名字，比如
          <code>hello_web</code>。如果你不想用默认的
          目录存放该项目，你可以选择一个新的目录。
          </para>
        </listitem>

        <listitem>
          <para>如果你真的不想让编辑器创建一些示例内容，则不要选中 <emphasis role="bold">Generate sample
          content</emphasis> 。</para>
        </listitem>

        <listitem>
          <para>选择要创建的应用类型，例如 命令行应用、 web 或者使用 
          <ulink
          url="http://www.dartlang.cc/polymer-dart/">Polymer.dart</ulink> 的 web 应用。</para>
        </listitem>

        <listitem>
          <para>点击 <emphasis role="bold">Finish</emphasis> 来
              创建一个带有一些示例文件的项目。</para>

          <para>
              在编辑视图中会打开默认的 Dart 文件，在 文件视图中会显示项目目录。
              创建后的 Dart 编辑器看起来应该和下图类似：
           <xref linkend="DartEditor-helloweb" />。</para>

          <figure float="0" id="DartEditor-helloweb">
            <title>使用默认示例代码创建的新应用</title>

            <mediaobject>
              <imageobject role="web">
                <imagedata fileref="figs/web/daur_0401.png" format="PNG"
                           scale="75" />
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="ch04-editor-edit">
      <title>编辑应用</title>

      <para>Dart 编辑器提供了一些编辑功能，
          例如 Dart 代码辅助、API 浏览、支持重构以及搜索文件等。
      </para>

      <sect3 id="ch04-editor-edit-autocomplete">
        <title>使用代码辅助</title>

        <para>代码辅助功能看起来如  <xref
        linkend="helloweb-dotcomplete" /> 所示。当你输入如下代码的时候，提示出现：</para>

        <itemizedlist>
          <listitem>
            <para>输入一个类或者变量名字，然后再输入一个圆点。
                </para>

            <para>例如  <code>document.</code> 或者
            <code>DateTime.</code> 然后暂停一小会。
            当代码建议面板出现后，在继续输入可以过滤建议的代码。
            </para>
          </listitem>

          <listitem>
            <para>按  <emphasis role="bold">Ctrl+Space</emphasis>。</para>

            <para>例如，输入  <code>Dat</code> 然后按 Ctrl+Space 来查看
                以 <quote>Dat</quote> 开头的类。</para>
          </listitem>
        </itemizedlist>

        <para>当代码建议面板出现后，你可以点击、输入或者用上下箭头来选择你先要的建议。
            按回车键（Enter）或者返回键（Return）选择代码建议，用
            退出键（Esc） 来关闭代码建议面板。
        </para>

        <figure float="none" id="helloweb-dotcomplete">
          <title>代码辅助建议</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/web/daur_0402.png" format="PNG" />
            </imageobject>
          </mediaobject>
        </figure>
      </sect3>

      <sect3 id="ch04-editor-edit-browse-apis">
        <title>浏览 APIs</title>

        <para>使用 Dart 编辑器可以很容易的查找 API 是在何处定义的。
            同时还可以列出所选 Dart 文件的内容大纲视图。</para>

        <sect4 id="browse-api-declaration">
          <title>查看 API 的更多信息</title>

          <para>要查看一个 API 的详细信息 -变量、函数、类型、
              库、等等 - 只需要在 编辑视图上把鼠标放到 API 名字上即可。
              Dart 编辑器会弹出一个面板来显示关于该 API 的更多信息。
            </para>
            
          <para>不管该 API 是否在当前文件定义，都可以通过如下方式找到该 API 的定义位置：</para>

          <orderedlist continuation="restarts" inheritnum="ignore">
            <listitem>
              <para>在 Dart 文件的编辑视图中，点击一个 API 。 Dart 编辑器会高亮当前文件
                  所有使用该 API 的地方。</para>
            </listitem>

            <listitem>
              <para>然后在该 API 上右键。</para>
            </listitem>

            <listitem>
              <para>选择菜单中的  <emphasis role="bold">Open Declaration</emphasis>
              选项。</para>

              <para>编辑器会打开该 API 的定义位置。
                  例如，如果你查询 querySelector 的定义位置，则编辑器
                  会打开定义   <literal>querySelector()</literal> 方法的文件。
		</para>
            </listitem>
          </orderedlist>
        </sect4>

        <sect4 id="browse-api-outline">
          <title>浏览文件大概</title>

          <para>通过快捷键 <emphasis role="bold">Alt+O</emphasis> (Mac 上为 <emphasis
          role="bold">Option+O</emphasis> ) 或者 右键并选择 
          <emphasis role="bold">Outline File</emphasis> 菜单。</para>

          <para>然后会弹出一个面板，在该面板中显示了当前文件定义的 类、函数、和变量。
              例如，  Sunflower 示例中的  <code>sunflower.dart</code> 文件的大纲
              面板如图所示：
               <xref linkend="sunflower-outline" /></para>

          <figure float="0" id="sunflower-outline">
            <title>Sunflower 示例的大纲面板</title>

            <mediaobject>
              <imageobject role="web">
                <imagedata fileref="figs/web/daur_0403.png" format="PNG" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>你可以输入字符来过滤显示的内容。例如
              如果你输入
          <emphasis
          role="bold">c</emphasis>，则只会显示 <emphasis
          role="bold">center</emphasis> 和 <emphasis
          role="bold">context</emphasis> 变量。</para>

          <para>如果你选择了其中的一个条目，例如  <emphasis
          role="bold">centerX</emphasis>— 编辑器会把文件滚动到该条目定义的地方显示。</para>

          <para>另外，还有一个常驻的 大纲视图，通过菜单 
          <emphasis role="bold">Tools &gt; Outline</emphasis>来打开。</para>
        </sect4>
      </sect3>

      <sect3 id="ch04-editor-edit-refactor">
        <title>重构</title>

        <para>要修改代码的名字，在编辑文件视图中，可以把鼠标放到名字中间或者双击名字，然后右键选择菜单
            中的 <emphasis
        role="bold">Rename...</emphasis>选项。</para>

        <para>你几乎可以重命名任意内容，局部变量、方法参数、成员变量、函数、类型、顶级方法、库前缀
            、等等。 </para>
      </sect3>

      <sect3 id="ch04-editor-edit-searching">
        <title>搜索</title>

        <para>
            Dart 编辑器右上角的搜索输入框可以
        <phrase role="keep-together">直接定位到
        </phrase> 如下位置：</para>

        <itemizedlist>
          <listitem>
            <para>类型定义</para>
          </listitem>

          <listitem>
            <para>文件</para>
          </listitem>

          <listitem>
            <para>文件中的文本</para>
          </listitem>
        </itemizedlist>

        <para>
            搜索的范围为当前文件视图中的所有文件。
            在搜索视图中显示搜索结果。
            在搜索视图中，双击一个文件可以在编辑视图中显示该文件。
            在打开的文件中， 所有符合搜索的字符串都被高亮显示。
        </para>
      </sect3>
    </sect2>

    <sect2 id="ch04-editor-run">
      <title>运行应用</title>

      <para>只需要选择该应用的文件并点击 Dart 编辑器的 Run 按钮
      <inlinemediaobject>
          <imageobject>
            <imagedata fileref="figs/web/run.png" width="0.12in" />
          </imageobject>
        </inlinemediaobject> 就可以运行该应用。
      如果是 web 应用， Dart 编辑器会启动一个浏览器来运行该应用。
</para>

      <para>当用 Dart 编辑器运行 web 应用的时候，默认 Dart 编辑器会启动
          带有 Dart VM 的 Dartium 浏览器来直接运行 Dart 代码。
          如果你指定了其他的浏览器，则 Dart 编辑器用
       <link
      linkend="ch04-tools-dart2js">dart2js</link>  来把 Dart 代码
      编译为
      JavaScript 在浏览器中运行。</para>

      <sect3 id="ch04-editor-run-manage-launch">
        <title>设置启动配置</title>

        <para>通过菜单 <emphasis role="bold">Run &gt; Manage Launches</emphasis> 
            来设置多个启动配置。
        </para>

        <para>对于 Web 应用，你可以设置如下内容：</para>

        <itemizedlist>
          <listitem>
            <para>要打开的 HTML 文件或者 URL 地址</para>
          </listitem>

          <listitem>
            <para>传递给浏览器的参数。例如， <literal
            moreinfo="none">--allow-file-access-from-files</literal></para>
          </listitem>

          <listitem>
            <para>检测模式(checked mode) (只支持 Dartium )</para>
          </listitem>

          <listitem>
            <para>启用实验性功能  (只支持 Dartium)</para>
          </listitem>

          <listitem>
            <para>在哪里显示浏览器的 stdout 和 stderr 输出内容
            (只支持 Dartium ，可以帮助诊断  Dartium 崩溃问题)</para>
          </listitem>
        </itemizedlist>

        <para>例如，一个 web 应用可以有一个启动 
        Dartium 的配置和启动其他浏览器的配置。</para>

        <para>对于命令行应用，可以设置如下内容：</para>

        <itemizedlist>
          <listitem>
            <para>执行的 .dart </para>
          </listitem>

          <listitem>
            <para>工作目录</para>
          </listitem>

          <listitem>
            <para>传递给应用的参数</para>
          </listitem>

          <listitem>
            <para>检测模式</para>
          </listitem>
        </itemizedlist>
      </sect3>

      <sect3 id="ch04-editor-run-production-mode">
        <title>在生产模式下运行</title>

        <para>默认情况下，应用在 检测模式 运行.如果要在生产模式下运行，则可以在启动
            配置中禁用检测模式：</para>

        <orderedlist continuation="restarts" inheritnum="ignore">
          <listitem>
            <para>最少要运行一次该应用，这样就生成该启动配置项了。</para>
          </listitem>

          <listitem>
            <para>选择 <emphasis role="bold">Run &gt; Manage
            Launches</emphasis>或者点击 Run 按钮
            Run button <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="figs/web/run.png" width="0.12in" />
                </imageobject>
              </inlinemediaobject> 右边的三角形图标并选择 <emphasis role="bold">Manage
            Launches</emphasis>。</para>
          </listitem>

          <listitem>
            <para>在 Manage Launches 对话框中，找到你应用的启动配置。
                如果已经存在了，则选中该配置。</para>
          </listitem>

          <listitem>
            <para>不要选中 <emphasis role="bold">Run in checked
            mode</emphasis> (参考 <xref linkend="production-mode" />)。</para>

            <figure float="0" id="production-mode">
              <title>要在生产模式运行，不要选中 checked mode</title>

              <mediaobject>
                <imageobject role="web">
                  <imagedata fileref="figs/web/daur_0404.png" format="PNG" />
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>

          <listitem>
            <para>点击 <emphasis role="bold">Apply</emphasis> 来保存
                修改，或者点击 <emphasis role="bold">Run</emphasis> 来保存并
                运行应用。</para>
          </listitem>
        </orderedlist>

        <para>关于检测模式和生产模式的更多信息，请参考 <xref
        linkend="ch02-runtime-modes" />。</para>
      </sect3>

      <sect3 id="ch04-editor-run-non-dartium">
        <title>设置运行 JavaScript 的浏览器</title>

        <para>要设置一个浏览器来运行你应用的 JavaScript 版本，安装如下步骤操作：</para>

        <orderedlist continuation="restarts" inheritnum="ignore">
          <listitem>
            <para>选择
            <emphasis role="bold">Dart Editor &gt; Preferences</emphasis>.
            </para>
          </listitem>

          <listitem>
            <para>点击 <emphasis role="bold">Run and Debug</emphasis>.</para>
          </listitem>

          <listitem>
            <para>如果你不想用系统默认浏览器，则不要选中
             <emphasis role="bold">Use default <phrase
            role="keep-together">system browser</phrase></emphasis> ,并
            设置你想使用的浏览器文件位置。 <phrase
            role="keep-together"><emphasis>例如：</emphasis>
            /Applications/Firefox.app</phrase></para>
          </listitem>

          <listitem>
            <para>点击  <emphasis role="bold">OK</emphasis> 保存
                修改。</para>
          </listitem>
        </orderedlist>

        <para>现在 只要你用 JavaScript 来运行你的应用， Dart
            编辑器都会打开你选择的浏览器。
        </para>
	
        你也可以用默认的配置打开 JavaScript 应用。然后把网址复制到你想测试的浏览器中即可。
      </sect3>
    </sect2>

    <sect2 id="ch04-editor-debug">
      <title>调试应用</title>

      <para>在 Dart 编辑器中可以调试命令行应用和 web 应用。下面是一些提示：</para>

      <itemizedlist>
        <listitem>
          <para>
              在编辑视图代码每行左边距区域双击可以添加断点。
	</para>
        </listitem>

        <listitem>
          <para>
              用 调试器视图（Debugger view）来查看应用的状态和控制代码的执行。
              默认情况下，调试器视图在编辑视图的右边，当你第一次执行到断点代码位置处时，调试器视图自动打开
          (<xref
          linkend="debugger" />).</para>
        </listitem>

        <listitem>
          <para>要查看变量的只，把鼠标放到变量名字上，在 调试器视图 查看，或者用  Expression （表达式） 查看<inlinemediaobject>
              <imageobject>
                <imagedata fileref="figs/web/watchlist_view.gif"
                           width="0.12in" />
              </imageobject>
            </inlinemediaobject>.</para>
        </listitem>

        <listitem>
          <para>
              要调试 web 应用，需要用 Dartium 配合 Dart 编辑器。
              当调试的时候， 编辑器接管 Dartium 控制台。例如， 编辑器可以显示
          <literal>
          print()</literal> 语句打印的消息。</para>
        </listitem>
      </itemizedlist>

      <figure float="0" id="debugger">
        <title>用 Dart 编辑器调试 Sunflower 示例应用</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/web/daur_0406.png" format="PNG" />
          </imageobject>
        </mediaobject>
      </figure>
    </sect2>

    <sect2 id="ch04-editor-dart2js">
      <title>编译为 JavaScript</title>

      <para>要把你的代码编译为 
      JavaScript 你无需做额外的工作。
      当你在启动配置中
       <link
      linkend="ch04-editor-run-non-dartium">设置了其他浏览器</link>，则 Dart 编辑器
      会在执行应用之前自动把 Dart 代码编译为 JavaScript。
      </para>

      <para>当然，你也可以不允许应用就可以把 Dart 代码编译为  JavaScript。
          通过菜单 <emphasis role="bold">Tools &gt; Generate
      JavaScript</emphasis>即可。另外还可以用命令行工具 dart2js
      (参考 <xref linkend="ch04-tools-dart2js" />).</para>
    </sect2>

    <sect2 id="ch04-editor-more">
      <title>其他功能</title>

      <para>Dart 编辑器还有很多功能，例如 生成文档、自定义界面和快捷键等。</para>

      <sect3 id="ch04-editor-more-dartdoc">
        <title>用 dartdoc 生成文档</title>

        <para>用工具 <emphasis role="bold">Tools &gt; Generate
        Dartdoc</emphasis> 菜单来生成 Dart 代码的 HTML 文档。
        关于文档格式的更多信息，请参考
        <xref linkend="comments-doc" />.</para>
      </sect3>

      <sect3 id="ch04-editor-more-preferences">
        <title>自定义 Dart 编辑器</title>

        <para>
            在 Preferences 对话框中你可以自定义编辑器的字体、边距、快捷键和其他内容。通过菜单
        <emphasis role="bold">Tools &gt; Preferences</emphasis> ( Mac:
        <emphasis role="bold">Dart Editor &gt; Preferences</emphasis>) 来打开该对话框。</para>

        <para>
            你还可以定制显示那些视图，和视图显示的位置和大小。通过 <emphasis
        role="bold">Tools</emphasis> 菜单添加视图。通过视图的
        <emphasis role="bold">X</emphasis> 图标来删除视图。
        拖动视图 tab 来移动视图到另外一个位置，可以移动到 Dart 编辑器的其他地方，也可以移出 
        Dart 编辑器。 拖动视图边缘可以放到缩小。</para>
      </sect3>

      <sect3 id="ch04-editor-more-keys">
        <title>快捷键提示</title>

        <para>通过菜单 <emphasis
        role="bold">Help &gt; Key Assist</emphasis> (<xref
        linkend="key-assist" />)可以查看可以使用的快捷键。</para>

        <figure float="0" id="key-assist">
          <title>Help &gt; Key Assist</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/web/daur_0407.png" format="PNG" />
            </imageobject>
          </mediaobject>
        </figure>

        <?dbfo-need height=”75pt”?>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-dartium">
    <title>Dartium: 带有 Dart VM 的 Chromium</title>

    <para>本节内容告诉你如何下载和使用 Dartium 浏览器。 
        Dartium 直接运行 Dart
        web 应用中的 Dart 代码， 这样你无需把 Dart 代码编译为 JavaScript 就可以
        测试你的应用了。
    </para>

    <warning>
      <para>该浏览器目前还处于开发早期。 <emphasis role="bold">请不要用
          Dartium 作为你的日常使用浏览器。</emphasis></para>
    </warning>

    <sect2 id="ch04-dartium-download">
      <title>下载安装 Dartium</title>

      <para>如果你已经下载了最新的 Dart 编辑器，则里面已经包含了 
      Dartium.</para>

      <para>
          如果你还没有下载 Dart 编辑器或者你想下载一个其他版本的
          Dartium ，你可以从
      <ulink
      url="http://www.dartlang.cc/downloads.html">下载页面下载。</ulink> 
      Dartium 程序在一段时间以后就会失效。
      所以当你的 Dartium 失效后，你需要从新下载一个。
      </para>

      <para>
          只需要解压下载的文件 就安装好 Dartium 了。
	如果你想让 Dart 编辑器启动你下载的 Dartium，则需要把下载的文件复制到          
       <literal
      moreinfo="none">dart-sdk</literal> 目录中的 Dartium 目录下
      (参考 <xref linkend="ch01-editor-download" />) ，并替换之前下载的  Chromium。</para>
    </sect2>

    <sect2 id="ch04-dartium-launch">
      <title>启动 Dartium</title>

      <para>
          要启动 Dartium， 只需要双击 Chromium 可执行文件即可。
          或者按照 <xref linkend="ch04-editor-run" /> 描述的方式在 Dart 编辑器中启动，或者按照
       <xref linkend="ch04-dartium-command" /> 描述的方式在命令行中启动。</para>

      <warning>
        <para><emphasis>已经使用 Chromium 的用户请注意：</emphasis> 
        如果另外一个 Chromium 在运行，当运行 Dartium 的时候可能会出现配置冲突的情况。
        通过命令行  <phrase role="keep-together"><ulink
        url="http://www.chromium.org/user-experience/user-data-directory">--user-data-dir
        参数来启动 Dartium 可以避免该问题。</ulink></phrase></para>
      </warning>
    </sect2>

    <sect2 id="ch04-dartium-bug">
      <title>提交 Bug</title>

      <para>如果你发现了一个 Dartium 的 bug，可以按照
       <ulink url="http://bit.ly/WO0U32">Dartium bug
      模板</ulink> 来给 Dart 开发组提交 Bug。</para>
    </sect2>

    <sect2 id="ch04-dartium-linking">
      <title>连接到 Dart 代码</title>

      <para>用类型为 <literal
      moreinfo="none">application/dart</literal> 的 script 来连接 Dart 代码。
      例如：</para>

      <programlisting format="linespecific"><remark>lang-html
</remark>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;body&gt;
    &lt;script type="application/dart" src="app.dart"&gt;&lt;/script&gt;

    &lt;!-- Support for non-Dart browsers. --&gt;
    &lt;script src="packages/browser/dart.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</programlisting>

      <note>
        <para>Dart 编辑器自动在项目的启动 HTML 文件
            中添加
<literal
        moreinfo="none">application/dart</literal> script 和
        <literal>dart.js</literal> script 标签。</para>
      </note>
    </sect2>

    <sect2 id="ch04-dartium-detect">
      <title>检测浏览器是否支持 Dart</title>

      <para>可以通过 JavaScript 代码检测浏览器是否支持 Dart：
      </para>

      <programlisting format="linespecific"><remark>lang-js
</remark>// In JavaScript code:
if (navigator.userAgent.indexOf('(Dart)') == -1) {
  // No native Dart support...
  window.addEventListener("DOMContentLoaded", function (e) {
      // ...Fall back to compiled JS...
    }
  }, false);
}</programlisting>
    </sect2>

    <sect2 id="ch04-dartium-command">
      <title>从命令行启动 Dartium</title>

      <para>由于 Dartium 是基于  Chromium 的，所有 <ulink
      url="http://www.chromium.org/developers/how-tos/run-chromium-with-flags">Chromium
      标记( flag )</ulink> 都应该可以使用。有些情况下，你可能想使用 Dart 相关的标记来设置 Dart VM 的行为。
      例如，在开发 web 应用的时候，你想让 VM 检查类型声明和断言（assertions），
      启用 检测模式 即可启用该功能 (VM 的 <literal>--checked</literal>
      标记)。
      </para>

      <para>在 Linux，可以通过如下方式启动
          Dartium：
		</para>

      <screen format="linespecific"><remark>lang-sh
</remark>DART_FLAGS='--checked' <replaceable>path</replaceable>/chrome</screen>

      <para> Mac 系统:</para>

      <screen format="linespecific"><remark>lang-sh
</remark>DART_FLAGS='--checked'              \
  <replaceable>path</replaceable>/Chromium.app/Contents/MacOS/Chromium</screen>

      <para>Mac 系统也可以这样 :</para>

      <screen format="linespecific"><remark>lang-sh
</remark>DART_FLAGS='--checked'              \
   open <replaceable>path</replaceable>/Chromium.app</screen>

      <note>
        <para>
            通过  <literal
        moreinfo="none">chrome://version</literal> 你可以查看当前
        使用的命令行标记和执行文件路径。</para>
      </note>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-dart2js">
    <title>dart2js: Dart-to-JavaScript 编译器</title>

    <para>可以用 <emphasis>dart2js</emphasis> 工具把 Dart 代码
        编译为 JavaScript。 <link linkend="ch04-editor-dart2js">Dart 编辑器</link>
        就是用 dart2js 把代码编译为 JavaScript 并在其他浏览器中运行的。
        本节内容介绍如何用 dart2js 命令行工具。
        同时也介绍了如果调试 dart2js 编译的 JavaScript 程序。
   </para>

    <sect2 id="ch04-tools-dart2js-basic-usage">
      <title>基本用法</title>

      <para>下面是把 Dart 编译为 JavaScript 的示例：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>dart2js --out=test.js <replaceable>test.dart</replaceable></screen>

      <para>上面的命令把 Dart 代码编译为功能一样的 JavaScript 代码。
          同时还生成了一个代码映射表，这样可以方便的调试生成的
          JavaScript 代码。
      </para>
    </sect2>

    <sect2 id="ch04-tools-dart2js-options">
      <title>支持的参数</title>

      <para>dart2js 常用的参数有：</para>

      <variablelist role="keep-together">
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          -o<replaceable>&lt;file&gt;</replaceable></literal><emphasis> 或者
          </emphasis><literal>--out=<replaceable>&lt;file&gt;</replaceable></literal></term>

          <listitem>
            <para>编译后的文件保存在 
            <replaceable>&lt;file&gt;</replaceable> 文件中。如果
            没有设置该参数，生成的 JavaScript 文件名为
             <literal
            moreinfo="none">out.js</literal>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none"> -c</literal><emphasis>
          或者 </emphasis><literal>--checked</literal></term>

          <listitem>
            <para>插入运行时类型检测和启用断言（检测模式）。
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          --minify</literal></term>

          <listitem>
            <para>生成最小尺寸的代码（也就是启用代码压缩）。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none"> -h</literal><emphasis>
          或者 </emphasis><literal>--help</literal></term>

          <listitem>
            <para>显示帮助信息。(使用 <literal moreinfo="none">-vh</literal>
            显示所有的帮助信息)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          --output-type=dart</literal></term>

          <listitem>
            <para>输出的文件为 Dart 代码而不是 JavaScript。 在部署代码的时候该选项非常有用，
                该选项会生成一个文件包含该应用的所有 Dart 代码，这样可以加速 web 页面的加载。
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="ch04-tools-dart2js-generating-efficient-code">
      <title>帮助 dart2js 生成更好的代码</title>

      <para>你可以通过如下方面来帮助 dart2js
      生成更好的代码：</para>

      <itemizedlist>
        <listitem>
          <para>编写能够很容易推断类型的代码。</para>
        </listitem>

        <listitem>
          <para>当部署代码的时候， 用 dart2js --minify
          参数来减少生成的代码。</para>
        </listitem>
      </itemizedlist>

      <note>
        <para>不用担心你使用的各种库的大小。
            使用 <emphasis>tree shaking</emphasis> 技术， dart2js 会忽略
            没有用到的类、函数、方法、等等。你只要导入需要使用的库就可以了，
            让 dart2js 帮助你删除不需要的代码。</para>
      </note>

      <para>如下是一些帮助 dart2js 生成更好代码的最佳实践，遵守这些实践可以
          让 dart2js 生成更简单、运行更快的 JavaScript 代码：</para>

      <itemizedlist>
        <listitem>
          <para>避免设置变量值为 null。</para>
        </listitem>

        <listitem>
          <para>如果可能总是使用 const 或者 final 修饰符。</para>
        </listitem>

        <listitem>
          <para>使用一致的类型参数来调用同一个函数或者方法。</para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="tools-dart2js-debugging">
      <title>调试</title>

      <para>下面是一些在
      Chrome、 Firefox、 和 Safari 中调试 dart2js 生成的 JavaScript 代码的一些建议。
      在支持代码映射的浏览器中调试 dart2js 生成的 JavaScript 代码是非常容易的，
      例如 Chrome。</para>

      <para>
          无论使用那个浏览器，你至少要启用在非捕获异常发生时暂停执行的功能，如果启用
          所有异常则更好。
          对于 dart:isolate 和 dart:async 这些框架来说，用户代码在 try-catch 中执行，
          所有我们建议启用所有异常发生都暂停执行的功能。</para>

      <sect3 id="dart2js-debugging-chrome">
        <title>Chrome</title>

        <para>在 Chrome 中调试：</para>

        <orderedlist>
          <listitem>
            <para>打开  Developer Tools 窗口。具体如何打开，请参考 <ulink
            url="https://developers.google.com/chrome-developer-tools/docs/overview">How
            to Access the Developer Tools。</ulink></para>
          </listitem>

          <listitem>
            <para>启用代码映射功能。详细信息参考这个视频 <ulink
            url="http://bit.ly/YugIUY">SourceMaps in Chrome。</ulink></para>
          </listitem>

          <listitem>
            <para>启用调试功能，选择所有异常或者非捕获异常。详细信息参考<phrase role=""> <ulink
            url="https://developers.google.com/chrome-developer-tools/docs/scripts-breakpoints#pause-on-exceptions">Pause
            on Exceptions</ulink> </phrase>和 <ulink
            url="https://developers.google.com/chrome-developer-tools/docs/scripts-breakpoints#pause-on-uncaught-exceptions">Pause
            on Uncaught Exceptions </ulink> 文档。</para>
          </listitem>

          <listitem>
            <para>重新载入调试的应用。</para>
          </listitem>
        </orderedlist>
      </sect3>

      <sect3 id="dart2js-debugging-firefox">
        <title>Firefox</title>

        <para>Firefox 还不支持代码映射 (参考 <ulink
        url="https://bugzilla.mozilla.org/show_bug.cgi?id=771597">bug
        #771597</ulink>)。 在 Firefox 中调试步骤：</para>

        <orderedlist role="keep-together">
          <listitem>
            <para>启用 Developer Toolbar。启用方式参考  Kevin
            Dangoor 的文章 <ulink
            url="https://hacks.mozilla.org/2012/08/new-firefox-command-line-helps-you-develop-faster/">New
            Firefox Command Line Helps You Develop Faster.</ulink></para>
          </listitem>

          <listitem>
            <para>点击浏览器底部的 <emphasis role="bold">Debugger</emphasis> 按钮
                ，并启用 <emphasis
            role="bold">Pause on exceptions</emphasis>。(参考 <xref
            linkend="FirefoxDeveloperToolbar" />.)</para>
          </listitem>

          <listitem>
            <para>重新载入调试的应用。</para>
          </listitem>
        </orderedlist>

        <figure id="FirefoxDeveloperToolbar">
          <title>Firefox’s Developer Toolbar</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="figs/web/daur_0408.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </sect3>

      <sect3 id="dart2js-debugging-safari">
        <title>Safari</title>

        <para>在 Safari 中调试的步骤：</para>

        <orderedlist>
          <listitem>
            <para>打开 Develop 菜单。详细操作参考 <ulink
            url="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/GettingStarted/GettingStarted.html#//apple_ref/doc/uid/TP40007874-CH2-SW1">Safari
            Web Inspector Guide</ulink>.</para>
          </listitem>

          <listitem>
            <para>启用断点。参考 Safari  <ulink
            url="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/Debugger/Debugger.html#//apple_ref/doc/uid/TP40007874-CH5-SW1">Debugging</ulink>
            页面的 Figure 4-2 图。</para>
          </listitem>

          <listitem>
            <para>重新载入调试的应用。</para>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-dart-vm">
    <title>dart: 独立的虚拟机(VM)</title>

    <para>你可以用 <emphasis>dart</emphasis> 工具 (<literal
    moreinfo="none">bin/dart</literal>) 来运行 Dart 命令行应用，
    例如 服务器端脚本、代码或者服务器等。
	在开发的时候，你也可以在 <link
    linkend="ch04-editor-run">Dart 编辑器</link> 中运行命令行应用。</para>

    <sect2 id="ch04-tools-dart-vm-basic-usage">
      <title>基本用法</title>

      <para>下面是在命令行运行 Dart 代码的一个示例：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>dart <replaceable>test.dart</replaceable></screen>
    </sect2>

    <sect2 id="ch04-tools-dart-vm-options">
      <title>支持的参数</title>

      <para>dart 支持如下一些常用的参数：</para>

      <variablelist>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          --enable-checked-mode</literal><emphasis> 或者
          </emphasis><literal>--checked</literal></term>

          <listitem>
            <para>启用 <emphasis>断言和类型检测</emphasis> 
            (checked mode).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--package-root=</literal><replaceable>&lt;path&gt;</replaceable></term>

          <listitem>
            <para>指定查找导入包的目录</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          --print-flags</literal></term>

          <listitem>
            <para>打印出所有参数列表</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="ch04-tools-dart-vm-type-checks">
      <title>启用检测模式</title>

      <para>Dart 程序有两种运行模式： checked 或者 production （检测模式或者生产模式）。
	 默认情况下，Dart VM 使用的是生产模式。
	 我们推荐你用 检测模式 来开发和测试应用。</para>

      <para>在检测模式下，赋值操作会进行类型检测，如果类型不匹配则会抛出
          一个异常。而在生产模式下，类型定义没有任何效果。</para>

      <para>
          断言也在检测模式下有用。一个
            <link
      linkend="assert">assert statement（断言语句）</link> 检测一个布尔值，
      如果该值为 false 则抛出一个异常。
      同样，在生产模式下，断言也没任何效果。</para>

      <para>使用
      <literal>--checked</literal> 命令行参数可以启用 VM 的检测模式：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>dart --checked <replaceable>test.dart</replaceable></screen>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-dart_analyzer">
    <title>dartanalyzer: 静态分析工具</title>

    <para>你可以用 <emphasis>dartanalyzer</emphasis> 工具 (<literal
    moreinfo="none">bin/dartanalyzer</literal>) 通过命令行来静态的分析
    代码，检测 <ulink url="http://www.dartlang.cc/docs/spec/">Dart
    语言规范</ulink> 中的一些错误和警告情况。</para>

    <note>
      <para>Dart 编辑器 除了执行 dartanalyzer 功能外还有其他
          一些常见错误检测。
     之前版本的 <emphasis>dart_analyzer</emphasis>已经被淘汰了。</para>
    </note>

    <sect2 id="ch04-tools-dart_analyzer-basic-usage">
      <title>基础用法</title>

      <para>下面是测试一个 Dart 代码的示例：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>dartanalyzer --package-root <replaceable>code/packages</replaceable> <replaceable>test.dart</replaceable></screen>

      <para>如 <xref linkend="ch04-dartanalyzer-exit" /> 所示，dartanalyzer 的退出码
          代表分析的结果。</para>

      <table id="ch04-dartanalyzer-exit">
        <title>dartanalyzer 的退出码</title>

        <tgroup cols="2">
          <thead>
            <row>
              <entry>退出码</entry>

              <entry>描述</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>0</entry>

              <entry>没有发现问题</entry>
            </row>

            <row>
              <entry>1</entry>

              <entry>发现警告(但是没错误)</entry>
            </row>

            <row>
              <entry>2</entry>

              <entry>发现错误</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </sect2>

    <sect2 id="ch04-tools-dart_analyzer-options">
      <title>支持的参数</title>

      <para>dartanalyzer 支持如下命令行参数：</para>

      <variablelist>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--dart-sdk
          <replaceable>&lt;path&gt;</replaceable></literal></term>

          <listitem>
            <para>设置 Dart SDK 的目录。</para>
          </listitem>

        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--package-root
          <replaceable>&lt;path&gt;</replaceable></literal></term>

          <listitem>
            <para>设置使用  <literal>package:</literal> 导入的包的目录。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--show-package-warnings</literal></term>

          <listitem>
            <para>不仅仅显示你应用中的  .dart 代码警告，同时还显示
                所使用库（<literal>package:</literal> 导入的库）的警告信息。 </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--machine</literal></term>

          <listitem>
            <para>生成可以分析的结果文件。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--version</literal></term>

          <listitem>
            <para>显示分析器的版本。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--help</literal></term>

          <listitem>
            <para>显示所有命令行参数。</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
  </sect1>

  <sect1 id="ch04-tools-dartdoc">
    <title>dartdoc: API 文档生成器</title>

    <para>可以用 <emphasis>dartdoc</emphasis> 工具 (<literal
    moreinfo="none">bin/dartdoc</literal>) 来生成 Dart 代码的 文档。
    默认情况下，dartdoc 生成你指定的 .dart 代码和这些代码所导入的库的文档。
    </para>

    <para>按照 <xref linkend="comments-doc" /> 文章中推荐的方式写注释，可以
        改进生成的 文档。同时也参考下 <ulink
    url="http://www.dartlang.cc/articles/doc-comment-guidelines/"> Dart 文档<phrase
    role="keep-together">注释指南 </phrase></ulink></para>

    <sect2 id="ch04-tools-dartdoc-basic-usage">
      <title>基本用法</title>

      <para>下面是从 Dart 代码中生成文档的方法：</para>

      <screen format="linespecific"><remark>lang-sh
</remark>dartdoc --out=/docs/mylib <replaceable>mylib.dart</replaceable></screen>

      <para>默认情况下，生成的文档位于 <literal>docs/</literal> 目录中。</para>
    </sect2>

    <sect2 id="ch04-tools-dartdoc-options">
      <title>支持的参数</title>

      <para>dartdoc 支持如下参数：上</para>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--out=<replaceable>&lt;absolute_path&gt;</replaceable></literal></term>

          <listitem>
            <para>设置生成的文档目录，如果目录不存在，则会创建该目录。</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--no-code</literal></term>

          <listitem>
            <para>在生成的文档中不要包含代码。</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--exclude-lib=<replaceable>&lt;identifier&gt;</replaceable></literal></term>

          <listitem>
            <para>设置不生成文档的库。</para>

            <para><phrase role="keep-together"><emphasis>示例:</emphasis>
            <literal>--exclude-lib=metadata</literal></phrase></para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--omit-generation-time</literal></term>

          <listitem>
            <para>在每个文档页面底部不要包含生成的日期。</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--mode=static</literal></term>

          <listitem>
            <para>使用静态 HTML 导航，生成的文档文件会占用更多的存储空间，但是
                本地浏览会比较方便。</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--package-root=<replaceable>&lt;path&gt;</replaceable></literal></term>

          <listitem>
            <para>设置查找导入库的目录。
                如果你的文件目录和  <ulink
            url="http://pub.dartlang.org/doc/package-layout.html">pub 包
            目录布局约定</ulink> 中介绍的不一样，则需要设置该选项。<emphasis>例如:</emphasis>
            <literal>--package-root=foo/packages/</literal></para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <varlistentry>
          <term role="plain"><literal moreinfo="none">
          </literal><literal>--help</literal></term>

          <listitem>
            <para>打印所有参数信息。</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
  </sect1>

  <sect1 id="ch04-summary">
    <title>总结</title>

    <para>本章介绍了常用的 Dart 工具。
        所有工具都包含在下载的 Dart 编辑器包中，但是你也可以单独
        下载 Dartium 和 SDK。</para>
  </sect1>
</chapter>
